/*!
 * VERSION: 0.0.10
 * DATE: 2016-02-11
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * DrawSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function a(a,b,c,d){return c=parseFloat(c)-parseFloat(a),d=parseFloat(d)-parseFloat(b),Math.sqrt(c*c+d*d)}function b(a){return"string"!=typeof a&&a.nodeType||(a=_gsScope.TweenLite.selector(a),a.length&&(a=a[0])),a}function c(a,b,c){var d,e,f=a.indexOf(" ");return-1===f?(d=void 0!==c?c+"":a,e=a):(d=a.substr(0,f),e=a.substr(f+1)),d=-1!==d.indexOf("%")?parseFloat(d)/100*b:parseFloat(d),e=-1!==e.indexOf("%")?parseFloat(e)/100*b:parseFloat(e),d>e?[e,d]:[d,e]}function d(c){if(!c)return 0;c=b(c);var d,e,f,g,i,j,k,l=c.tagName.toLowerCase();if("path"===l){g=c.style.strokeDasharray,c.style.strokeDasharray="none",d=c.getTotalLength()||0;try{e=c.getBBox()}catch(m){}c.style.strokeDasharray=g}else if("rect"===l)d=2*c.getAttribute("width")+2*c.getAttribute("height");else if("circle"===l)d=2*Math.PI*parseFloat(c.getAttribute("r"));else if("line"===l)d=a(c.getAttribute("x1"),c.getAttribute("y1"),c.getAttribute("x2"),c.getAttribute("y2"));else if("polyline"===l||"polygon"===l)for(f=c.getAttribute("points").match(h)||[],"polygon"===l&&f.push(f[0],f[1]),d=0,i=2;i<f.length;i+=2)d+=a(f[i-2],f[i-1],f[i],f[i+1])||0;else"ellipse"===l&&(j=parseFloat(c.getAttribute("rx")),k=parseFloat(c.getAttribute("ry")),d=Math.PI*(3*(j+k)-Math.sqrt((3*j+k)*(j+3*k))));return d||0}function e(a,c){if(!a)return[0,0];a=b(a),c=c||d(a)+1;var e=g(a),f=e.strokeDasharray||"",h=parseFloat(e.strokeDashoffset),i=f.indexOf(",");return 0>i&&(i=f.indexOf(" ")),f=0>i?c:parseFloat(f.substr(0,i))||1e-5,f>c&&(f=c),[Math.max(0,-h),Math.max(0,f-h)]}var f,g=document.defaultView?document.defaultView.getComputedStyle:function(){},h=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;f=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.10",global:!0,overwriteProps:["drawSVG"],init:function(a,b,f){if(!a.getBBox)return!1;var g,h,i,j=d(a)+1;return this._style=a.style,b===!0||"true"===b?b="0 100%":b?-1===(b+"").indexOf(" ")&&(b="0 "+b):b="0 0",g=e(a,j),h=c(b,j,g[0]),this._length=j+10,0===g[0]&&0===h[0]?(i=Math.max(1e-5,h[1]-j),this._dash=j+i,this._offset=j-g[1]+i,this._addTween(this,"_offset",this._offset,j-h[1]+i,"drawSVG")):(this._dash=g[1]-g[0]||1e-6,this._offset=-g[0],this._addTween(this,"_dash",this._dash,h[1]-h[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-h[0],"drawSVG")),!0},set:function(a){this._firstPT&&(this._super.setRatio.call(this,a),this._style.strokeDashoffset=this._offset,1===a||0===a?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),f.getLength=d,f.getPosition=e}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
/*!
 * VERSION: 0.2.2
 * DATE: 2014-12-31
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * ScrambleTextPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var a=function(b){var c=b.nodeType,d="";if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)d+=a(b)}else if(3===c||4===c)return b.nodeValue;return d},b=function(a,b){for(var c=b.length,d="";--a>-1;)d+=b[Math.random()*c|0];return d},c=function(a){this.chars=a.split(""),this.sets=[],this.length=50;var c;for(c=0;20>c;c++)this.sets[c]=b(80,this.chars);this.grow=function(a){for(c=0;20>c;c++)this.sets[c]+=b(a-this.length,this.chars);this.length=a}},d="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=d.toLowerCase(),f={upperCase:new c(d),lowerCase:new c(e),upperAndLowerCase:new c(d+e)},g=_gsScope._gsDefine.plugin({propName:"scrambleText",version:"0.2.2",API:2,overwriteProps:["scrambleText","text"],init:function(b,d,e){if(this._prop="innerHTML"in b?"innerHTML":"textContent"in b?"textContent":0,!this._prop)return!1;this._target=b,"object"!=typeof d&&(d={text:d});var g,h,i,j;return this._delimiter=g=d.delimiter||"",this._original=a(b).replace(/\s+/g," ").split("&nbsp;").join("").split(g),this._text=(d.text||d.value||"").replace(/\s+/g," ").split(g),this._hasClass=!1,"string"==typeof d.newClass&&(this._newClass=d.newClass,this._hasClass=!0),"string"==typeof d.oldClass&&(this._oldClass=d.oldClass,this._hasClass=!0),h=this._text.length-this._original.length,this._length=this._original.join(g).length,this._lengthDif=this._text.join(g).length-this._length,this._fillChar=d.fillChar||d.chars&&-1!==d.chars.indexOf(" ")?"&nbsp;":"",this._charSet=j=f[d.chars||"upperCase"]||new c(d.chars),this._speed=.016/(d.speed||1),this._prevScrambleTime=0,this._setIndex=20*Math.random()|0,i=this._length+Math.max(this._lengthDif,0),i>j.length&&j.grow(i),this._chars=j.sets[this._setIndex],this._revealDelay=d.revealDelay||0,this._tweenLength=d.tweenLength!==!1,this._tween=e,!0},set:function(a){var b,c,d,e,f,g,h=this._text.length,i=this._delimiter,j=this._tween._time,k=j-this._prevScrambleTime;this._revealDelay&&(this._tween.vars.runBackwards&&(j=this._tween._duration-j),a=0===j?0:j<this._revealDelay?1e-6:j===this._tween._duration?1:this._tween._ease.getRatio((j-this._revealDelay)/(this._tween._duration-this._revealDelay))),0>a?a=0:a>1&&(a=1),b=a*h+.5|0,c=this._text.slice(0,b).join(i),d=this._original.slice(b).join(i),a&&((k>this._speed||k<-this._speed)&&(this._setIndex=(this._setIndex+(19*Math.random()|0))%20,this._chars=this._charSet.sets[this._setIndex],this._prevScrambleTime+=k),d=this._chars.substr(c.length,this._length+(this._tweenLength?1-(a=1-a)*a*a*a:1)*this._lengthDif-c.length+.5|0)),this._hasClass?(e=this._newClass&&0!==b,f=this._oldClass&&b!==h,g=(e?"<span class='"+this._newClass+"'>":"")+c+(e?"</span>":"")+(f?"<span class='"+this._oldClass+"'>":"")+i+d+(f?"</span>":"")):g=c+i+d,this._target[this._prop]="&nbsp;"===this._fillChar&&-1!==g.indexOf("  ")?g.split("  ").join("&nbsp;&nbsp;"):g}}),h=g.prototype;h._newClass=h._oldClass="";for(h in f)f[h.toLowerCase()]=f[h],f[h.toUpperCase()]=f[h]}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
window.onbeforeunload = function() {
    window.scrollTo(0, 0)
}, $(document).ready(function() {
    function e() {
        function e() {
            setTimeout(function() {
                TweenMax.set(g, {
                    autoAlpha: 1
                }), T(u)
            }, 500)
        }

        function a(e, a, n, t) {
            var o = e.attr("id").substring(5, 7),
                i = a.attr("id").substring(5, 7);
            $slideOutBcg = e.find(".bcg-color"), $slideOutTitle = e.find(".title .fade-txt"), $slideOutNumber = e.find(".number"), $slideInBcg = a.find(".bcg-color"), $slideInTitle = a.find(".title .fade-txt"), $slideInNumber = a.find(".number"), $slideInBcgWhite = a.find(".primary .bcg"), slideInValue = $slideInNumber.attr("data-value"), h(o, i), TweenMax.set(f, {
                className: "-=active"
            }), TweenMax.set($("#slide" + t), {
                className: "+=active"
            });
            var r = new TimelineMax;
            if (r.set(a, {
                    autoAlpha: 1
                }).set([$slideInTitle, $slideInNumber, $slideInBcgWhite], {
                    autoAlpha: 0
                }).to([$slideOutTitle, $slideOutNumber, w], .3, {
                    autoAlpha: 0,
                    ease: Linear.easeNone
                }).set(m, {
                    className: "slide" + i + "-active"
                }).set($slideInNumber, {
                    text: "0"
                }).add("countingUp").to($slideInBcgWhite, .3, {
                    autoAlpha: 1,
                    ease: Linear.easeNone
                }, "countingUp-=0.4").staggerFromTo($slideInTitle, .3, {
                    autoAlpha: 0,
                    x: "-=20"
                }, {
                    autoAlpha: 1,
                    x: 0,
                    ease: Power1.easeOut
                }, .1, "countingUp+=1.1"), 9 == i) {
                var d = new TimelineMax;
                d.to($slideInNumber, 1.4, {
                    scrambleText: "Share",
                    autoAlpha: 1,
                    ease: Power1.easeOut
                }), r.add(d, "countingUp")
            } else {
                var u = new TimelineMax({
                    paused: !0
                });
                u.to($slideInNumber, 1.2, {
                    autoAlpha: 1,
                    ease: Linear.easeNone,
                    onUpdate: l,
                    onUpdateParams: ["{self}", slideInValue, $slideInNumber]
                });
                var c = new TimelineMax;
                c.to(u, 1, {
                    progress: 1,
                    ease: Power3.easeOut
                }), r.add(c, "countingUp")
            }
            if ("FORWARD" == n) {
                var g = TweenMax.fromTo($slideInBcg, .7, {
                    autoAlpha: 0
                }, {
                    autoAlpha: 1,
                    ease: Linear.easeNone,
                    onComplete: s,
                    onCompleteParams: [e]
                });
                r.add(g, "countingUp-=0.3")
            } else {
                var g = TweenMax.to($slideOutBcg, .7, {
                    autoAlpha: 0,
                    ease: Linear.easeNone,
                    onComplete: s,
                    onCompleteParams: [e]
                });
                r.add(g, "countingUp-=0.3")
            }
            if (1 == i) {
                var p = TweenMax.to(w, .3, {
                    autoAlpha: 1,
                    ease: Linear.easeNone
                });
                v.timeScale(1.8), r.add([p, v], "countingUp+=1.4")
            }
        }

        function s(e) {
            TweenMax.set(e, {
                autoAlpha: 0
            })
        }

        function l(e, a, n) {
            var t = parseInt(e.progress() * a);
            100 == a ? n.text(t) : n.text(t + "%")
        }

        function h(e, a) {
            $(".nav-items li").removeClass("active"), TweenMax.set($(".nav-items li.nav-item" + a), {
                className: "+=active"
            })
        }

        function T(e) {
            var a = $(".layer"),
                n = $("#base"),
                t = $("#base path"),
                o = $(".awww-logo");
            v.from(t, 1.2, {
                drawSVG: "0%",
                ease: Power2.easeInOut
            }).from(o, .3, {
                autoAlpha: 0
            }, "-=0.3").from([n, o], 1.2, {
                y: -115,
                ease: Power4.easeInOut
            }, "+=0.2").add("fade").staggerFrom(a, 2, {
                autoAlpha: 0,
                y: -10,
                ease: Power4.easeInOut
            }, .2, "fade-=1.5");
            var i = e.find(".number"),
                s = e.find(".fade-txt"),
                r = e.find(".primary .bcg"),
                l = e.find(".bcg-white"),
                d = new TimelineMax;
            d.set([f, i, p, c], {
                autoAlpha: 0
            }).set(e, {
                autoAlpha: 1
            }).set(l, {
                scaleX: 1
            }).set(r, {
                scaleX: 0
            }).to(l, .4, {
                scaleX: .63,
                ease: Power2.easeIn
            }).to(r, .4, {
                scaleX: 1,
                ease: Power2.easeOut,
                clearProps: "all"
            }).add("fadeInLogo").to(l, .6, {
                scaleX: 0,
                ease: Power4.easeIn
            }, "fadeInLogo+=0.3").to([c, i], .2, {
                autoAlpha: 1,
                ease: Linear.easeNone
            }, "fadeInLogo-=0.2").staggerFrom(s, .3, {
                autoAlpha: 0,
                x: "-=60",
                ease: Power1.easeOut
            }, .1, "fadeInLogo+=0.9").add(v, "fadeInLogo+=1").fromTo(p, .3, {
                y: -15,
                autoAlpha: 0
            }, {
                autoAlpha: 1,
                y: 0,
                ease: Power1.easeOut
            }, "fadeInLogo+=3.5")
        }
        n = new ScrollMagic.Controller;
        var b = (new ScrollMagic.Scene({
            triggerElement: "#main",
            triggerHook: 0,
            duration: "900%"
        }).setPin("#main .pin-wrapper", {
            pushFollowers: !1
        }).addTo(n), new TimelineMax);
        t.each(function() {
            var e = $(this).find("a").attr("href"),
                a = e.substr(e.length - 7),
                n = TweenMax.to($(".nav-active"), 1, {
                    x: "+=26",
                    ease: Linear.easeNone
                });
            b.add(n, a)
        });
        new ScrollMagic.Scene({
            triggerElement: o,
            duration: "800%"
        }).setTween(b).addTo(n);
        r.forEach(function(e, t) {
            new ScrollMagic.Scene({
                triggerElement: e,
                triggerHook: .6
            }).on("enter", function(n) {
                var t = $(".slide.active"),
                    o = e.substring(6, 8),
                    i = $("#slide" + o),
                    s = n.scrollDirection;
                a(t, i, s, o)
            }).addTo(n)
        }), d.forEach(function(e, t) {
            new ScrollMagic.Scene({
                triggerElement: e,
                triggerHook: .49
            }).on("leave", function(n) {
                var t = $(".slide.active"),
                    o = e.substring(6, 8),
                    i = $("#slide" + o),
                    s = n.scrollDirection;
                a(t, i, s, o)
            }).addTo(n)
        }), e(), i.click(function(e) {
            e.preventDefault();
            var a = $(e.target).attr("href").substring(6, 8),
                n = $("div#slide" + a + "-pos").offset().top,
                t = window.innerHeight,
                o = n - .4 * t;
            TweenLite.to(window, .7, {
                scrollTo: o,
                ease: Power4.easeOut
            })
        })
    }

    function a() {
        g.removeClass("has-modal"), g.addClass("is-removing-modal"), setTimeout(function() {
            g.removeClass("is-removing-modal")
        }, 240)
    }
    var n, t = $(".nav-items li").not(".active"),
        o = $(".nav-trigger"),
        i = $(".nav-items a"),
        s = $(".slide-pos"),
        r = [],
        l = $(".slide-pos-reverse"),
        d = [],
        u = $(".slide.active"),
        c = $(".logo"),
        m = $("#main"),
        g = $("body"),
        f = $(".slide"),
        p = $("nav"),
        w = $("#layers"),
        v = new TimelineMax;
    $.each(s, function(e, a) {
        var n = "#" + a.id;
        r.push(n)
    }), $.each(l, function(e, a) {
        var n = "#" + a.id;
        d.push(n)
    }), enquire.register("screen and (min-width: 1025px)", {
        match: function() {
            e()
        },
        unmatch: function() {
            n.destroy(!0), $("*").removeAttr("style")
        }
    }), $(".button-more").on("click", function() {
        g.toggleClass("has-modal")
    }), $(".button-close").on("click", function() {
        a()
    }), $(document).keyup(function(e) {
        27 == e.keyCode && a()
    })
});